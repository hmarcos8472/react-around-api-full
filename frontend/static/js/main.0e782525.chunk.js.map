{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/HiddenLogout.js","components/Main.js","components/Card.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoToolTip.js","utils/Api.js","utils/auth.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","props","className","src","logo","alt","hidden","isHiddenLogoutOpen","onClick","toggleHiddenLogout","email","signOut","href","link","text","CurrentUserContext","React","createContext","HiddenLogout","Main","currentUser","useContext","avatar","onEditAvatar","name","about","onEditProfile","type","onAddCard","children","Card","currentUserId","_id","isOwn","card","owner","isLiked","likes","some","i","onCardImageClick","style","backgroundImage","image","onCardDelete","title","onCardLike","likecount","Footer","PopupWithForm","isOpen","popupType","onClose","heading","onSubmit","handleSubmit","noValidate","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","isEditOpen","e","preventDefault","onUpdateUser","onChange","target","value","id","minLength","maxLength","required","placeholder","EditAvatarPopup","setAvatar","avatarInputRef","useRef","isAvatarOpen","onUpdateAvatar","ref","current","AddPlacePopup","newCardName","setNewCardName","newCardLink","setNewCardLink","isAddOpen","onAddPlace","ImagePopup","Login","setEmail","password","setPassword","history","useHistory","handleLogin","localStorage","getItem","push","to","Register","handleRegister","ProtectedRoute","Component","component","loggedIn","InfoToolTip","isValid","handleResponse","res","ok","json","Promise","reject","status","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","catch","err","console","log","method","body","JSON","stringify","cardId","authorization","BASE_URL","App","isOverlayOn","setIsOverlayOn","setIsEditOpen","setIsAvatarOpen","setIsAddOpen","isInfoOpen","setIsInfoOpen","setIsHiddenLogoutOpen","isImageOpen","setIsImageOpen","setImage","imageCaption","setImageCaption","loginSuccess","setLoginSuccess","setLoggedIn","userEmail","setUserEmail","setCurrentUser","closeAllPopups","getUserInfo","cards","setCards","toggleInfoToolTip","auth","data","getInitialCards","Provider","path","referrerPolicy","token","removeItem","caption","map","key","length","removeLike","newCard","newCards","c","likeCard","handleCardLike","removeCard","handleCardDelete","setUserInfo","setUserAvatar","addCard","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.0e782525.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.3e6893cd.svg\";","import React from 'react';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <>\r\n      <header>\r\n        <div className=\"header\">\r\n          <img src={logo} alt=\"Around the US\" className=\"header__logo\" />\r\n          <div className= {props.hidden ? \"header__menu-container_visible\" : \"header__menu-container\"}>\r\n            <div className={props.isHiddenLogoutOpen ? \"header__menu_close\" : \"header__menu\"} onClick={props.toggleHiddenLogout}></div>\r\n          </div>\r\n          <div className={props.hidden ? \"header__text-container_hidden\" : \"header__text-container\"}>\r\n            <p className=\"header__user\">{props.email}</p>\r\n            <a onClick={props.signOut} href={props.link} className=\"header__text\">{props.text}</a>\r\n          </div>\r\n        </div>\r\n      </header>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext()\r\n","import React from 'react';\r\n\r\nfunction HiddenLogout(props) {\r\n  return (\r\n    <>\r\n      <div className={props.isHiddenLogoutOpen ? \"hiddenlogout\" : \"hiddenlogout_closed\"}>\r\n        <p className=\"hiddenlogout__user\">{props.email}</p>\r\n        <a onClick={props.signOut} href=\"/signin\" className=\"hiddenlogout__text\">Log out</a>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default HiddenLogout;\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\r\nimport Header from './Header.js'\r\nimport HiddenLogout from './HiddenLogout.js'\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  return (\r\n    <>\r\n      <main>\r\n      <HiddenLogout email={props.email} signOut={props.signOut} isHiddenLogoutOpen={props.isHiddenLogoutOpen}/>\r\n      <Header text={\"Log out\"} link={\"#\"} email={props.email} link={\"/signin\"} signOut={props.signOut} isHiddenLogoutOpen={props.isHiddenLogoutOpen} toggleHiddenLogout={props.toggleHiddenLogout} hidden={true}/>\r\n        <section className=\"profile\">\r\n          <img src={currentUser.avatar} alt=\"Avatar\" className=\"profile__avatar\" />\r\n          <div onClick={props.onEditAvatar} className=\"profile__avatar-overlay\"></div>\r\n          <div className=\"profile__text-container\">\r\n            <p className=\"profile__name\">{currentUser.name}</p>\r\n            <p className=\"profile__occupation\">{currentUser.about}</p>\r\n          </div>\r\n          <button onClick={props.onEditProfile} className=\"profile__edit\" type=\"button\" name=\"button\">\r\n          </button>\r\n          <button onClick={props.onAddCard} className=\"profile__add\" type=\"button\" name=\"button\">\r\n          </button>\r\n        </section>\r\n        <section className=\"element\">\r\n          <ul className=\"element__container\">\r\n            {props.children}\r\n          </ul>\r\n        </section>\r\n      </main>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n  const currentUserId = currentUser._id\r\n  const isOwn = props.card.owner._id === currentUserId\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n  return (\r\n    <>\r\n      <li className=\"element__card\">\r\n        <div onClick={props.onCardImageClick} className=\"element__image\" style={{backgroundImage:`url(${props.image})`}}>\r\n        </div>\r\n        <button onClick={props.onCardDelete} className={isOwn ?\"element__trash_visible\" :\"element__trash\"} type=\"button\" name=\"trash\"></button>\r\n        <div className=\"element__caption\">\r\n          <h2 className=\"element__title\">{props.title}</h2>\r\n          <button onClick={props.onCardLike} className={isLiked ?\"element__heart element__heart_filled\" :\"element__heart element__heart_empty\"} type=\"button\" name=\"like\">\r\n            <p className=\"element__likes\">{props.likecount}</p>\r\n          </button>\r\n        </div>\r\n      </li>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <>\r\n      <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">Â© 2020 Around The U.S.</p>\r\n      </footer>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <>\r\n      <div className={props.isOpen ? \"pop-up__container pop-up__container_active\": \"pop-up__container\"}>\r\n        <section className={`pop-up${props.popupType}`}>\r\n          <button onClick={props.onClose} className=\"pop-up__close\"></button>\r\n          <p className={`pop-up__heading${props.popupType}`}>{props.heading}</p>\r\n          <form onSubmit={props.handleSubmit} className=\"pop-up__form\" noValidate>\r\n            {props.children}\r\n            <button onClick={props.onClose} className=\"pop-up__save\" type=\"submit\" name=\"Save\" >{props.buttonText}</button>\r\n          </form>\r\n        </section>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n\r\n  const [name, setName] = React.useState(currentUser.name)\r\n  const [description, setDescription] = React.useState(currentUser.about)\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name)\r\n    setDescription(currentUser.about)\r\n  }, [currentUser])\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onUpdateUser(name, description, currentUser.avatar)\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm heading=\"Edit Profile\" buttonText=\"Save\" popupType=\"\" isOpen={props.isEditOpen} onClose={props.onClose} handleSubmit={handleSubmit}>\r\n      <input onChange={handleNameChange} id=\"profile-name\" name=\"profile name\" minLength=\"2\" maxLength=\"40\" required className=\"pop-up__name-input pop-up__input\" type=\"text\" placeholder=\"Name\" />\r\n      <span id=\"profile-name-error\" className=\"pop-up__error pop-up__error_visible\"></span>\r\n      <input onChange={handleDescriptionChange} id=\"profile-occupation\" name=\"profile occupation\" minLength=\"2\" maxLength=\"40\" required className=\"pop-up__occupation-input pop-up__input\" type=\"text\" placeholder=\"Occupation\"  />\r\n      <span id=\"profile-occupation-error\" className=\"pop-up__error pop-up__error_visible\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  const [avatar, setAvatar] = React.useState(currentUser.avatar)\r\n\r\n  const avatarInputRef = React.useRef(avatar)\r\n\r\n  function handleAvatarChange(e) {\r\n    setAvatar(avatarInputRef.current.value)\r\n  }\r\n\r\n  function handleSubmit(e){\r\n    e.preventDefault()\r\n    props.onUpdateAvatar(avatar)\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm heading=\"Change Profile Picture\" buttonText=\"Save\" popupType=\"_type_avatar\" isOpen={props.isAvatarOpen} onClose={props.onClose} handleSubmit={handleSubmit}>\r\n      <input ref={avatarInputRef} onChange={handleAvatarChange} id=\"avatar-url\" name=\"avatar url\" type=\"url\" required className=\"pop-up__url-input pop-up__avatar-input pop-up__input\" placeholder=\"Avatar URL\" />\r\n      <span id=\"avatar-url-error\" className=\"pop-up__error pop-up__error_visible\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js'\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [newCardName, setNewCardName] = React.useState(\"\")\r\n  const [newCardLink, setNewCardLink] = React.useState(\"\")\r\n\r\n  function handleNewCardNameChange(e) {\r\n    setNewCardName(e.target.value)\r\n  }\r\n\r\n  function handleNewCardLinkChange(e) {\r\n    setNewCardLink(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    props.onAddPlace({\r\n      title: newCardName,\r\n      link: newCardLink\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm heading=\"New Place\" buttonText=\"Submit\" popupType=\"\" isOpen={props.isAddOpen} onClose={props.onClose} handleSubmit={handleSubmit}>\r\n      <input onChange={handleNewCardNameChange} id=\"image-title\" name=\"image title\" minLength=\"1\" maxLength=\"30\" required className=\"pop-up__title-input pop-up__input\" type=\"text\" placeholder=\"Title\" />\r\n      <span id=\"image-title-error\" className=\"pop-up__error pop-up__error_visible\"></span>\r\n      <input onChange={handleNewCardLinkChange} id=\"image-url\" name=\"image url\" type=\"url\" required className=\"pop-up__url-input pop-up__input\" placeholder=\"Image URL\" />\r\n      <span id=\"image-url-error\" className=\"pop-up__error pop-up__error_visible\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <>\r\n      <div className={props.isOpen ? \"element__pop-up-container element__pop-up-container_display\": \"element__pop-up-container\"}>\r\n        <div className=\"element__pop-up\" style={{backgroundImage:`url(${props.image})`}} >\r\n          <button onClick={props.onClose} type=\"button\" name=\"close\" className=\"pop-up__close_image\"></button>\r\n          <p className=\"element__tag\">{props.title}</p>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from 'react';\r\nimport { Link, useHistory} from 'react-router-dom';\r\n\r\nfunction Login(props) {\r\n  const [email, setEmail] = React.useState(\"\")\r\n  const [password, setPassword] = React.useState(\"\")\r\n\r\n  const history = useHistory()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.handleLogin(password, email)\r\n    if(localStorage.getItem('jwt')) {\r\n      history.push('/')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <h2 className=\"login__heading\">Log in</h2>\r\n      <form className=\"login__form\" onSubmit={handleSubmit}>\r\n        <input onChange={e => setEmail(e.target.value)} className=\"login__input\" type=\"text\" name=\"email\" placeholder=\"Email\"></input>\r\n        <input onChange={e => setPassword(e.target.value)} className=\"login__input\" type=\"password\" name=\"password\" placeholder=\"Password\"></input>\r\n        <button className=\"login__submit\" type=\"submit\" name=\"submit\">Log in</button>\r\n      </form>\r\n      <Link className=\"login__help\" to=\"/signup\">Not a member yet? Sign up here!</Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport {useHistory, Link} from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n  const [email, setEmail] = React.useState(\"\")\r\n  const [password, setPassword] = React.useState(\"\")\r\n\r\n  const history = useHistory()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.handleRegister(password, email)\r\n    if (localStorage.getItem('jwt')) {\r\n      history.push('/')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <h2 className=\"login__heading\">Sign up</h2>\r\n      <form className=\"login__form\" onSubmit={handleSubmit}>\r\n        <input onChange={e => setEmail(e.target.value)} className=\"login__input\" type=\"text\" name=\"email\" placeholder=\"Email\"></input>\r\n        <input onChange={e => setPassword(e.target.value)} className=\"login__input\" type=\"password\" name=\"password\" placeholder=\"Password\"></input>\r\n        <button className=\"login__submit\" type=\"submit\" name=\"submit\">Sign up</button>\r\n      </form>\r\n      <Link className=\"login__help\" to=\"/signin\">Already a member? Log in here!</Link>\r\n    </ div>\r\n  )\r\n}\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nfunction ProtectedRoute ({ component: Component, ...props  }) {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to='/signin' />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute;\r\n","import React from 'react';\r\n\r\nfunction InfoToolTip(props) {\r\n  return (\r\n    <div className={props.isOpen ? \"pop-up__container pop-up__container_active\": \"pop-up__container\"}>\r\n      <section className={`pop-up${props.popupType}`}>\r\n        <button onClick={props.onClose} className=\"pop-up__close\"></button>\r\n        <div className={props.isValid ? \"pop-up__image pop-up__image_success\" : \"pop-up__image pop-up__image_fail\"}></div>\r\n        <p className=\"pop-up__text\">{props.isValid ? \"Success! You have now been registered.\" : \"Oops, something went wrong! Please try again.\"}</p>\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoToolTip;\r\n","const handleResponse = (res) => {\r\n  if (!res.ok) {\r\n    return Promise.reject(`Error: ${res.status}`)\r\n  }\r\n  return res.json();\r\n}\r\n\r\nclass Api {\r\n  constructor({baseUrl, headers}) {\r\n    this._baseUrl = baseUrl\r\n    this._headers = headers\r\n  }\r\n\r\n//GET https://around.nomoreparties.co/v1/group-3/cards\r\n  getInitialCards() {\r\n    return fetch(this._baseUrl + '/cards', {\r\n      headers: this._headers\r\n    })\r\n    .then(handleResponse)\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n//GET https://around.nomoreparties.co/v1/group-3/users/me\r\n  getUserInfo() {\r\n    return fetch(this._baseUrl + '/users/me', {\r\n      headers: this._headers\r\n    })\r\n    .then(handleResponse)\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n//POST https://around.nomoreparties.co/v1/group-3/cards\r\n  addCard({title, link}) {\r\n    return fetch(this._baseUrl + '/cards', {\r\n      headers: this._headers,\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        name: title,\r\n        link: link\r\n      })\r\n    })\r\n    .then(handleResponse)\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n\r\n  removeCard(cardId) {\r\n    return fetch(this._baseUrl + '/cards/' + cardId, {\r\n      headers: this._headers,\r\n      method: \"DELETE\"\r\n    })\r\n    .then(handleResponse)\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n//PUT https://around.nomoreparties.co/v1/group-3/cards/likes/cardId\r\n  likeCard(cardId) {\r\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\r\n      headers: this._headers,\r\n      method: \"PUT\"\r\n    })\r\n    .then(handleResponse)\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n  removeLike(cardId) {\r\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\r\n      headers: this._headers,\r\n      method: \"DELETE\"\r\n    })\r\n    .then(handleResponse)\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n\r\n  setUserInfo({name, about}) {\r\n    fetch(this._baseUrl + '/users/me', {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: \"0822cc1d-2b11-427a-9c40-48a5387f2b93\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about\r\n      })\r\n    })\r\n    .then(handleResponse)\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n// PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\r\n  setUserAvatar({avatar}) {\r\n    return fetch(this._baseUrl + '/users/me/avatar', {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: \"0822cc1d-2b11-427a-9c40-48a5387f2b93\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatar\r\n      })\r\n    })\r\n    .then(handleResponse)\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://around.nomoreparties.co/v1/group-3\",\r\n  headers: {\r\n    authorization: \"0822cc1d-2b11-427a-9c40-48a5387f2b93\",\r\n    \"Content-Type\": \"application/json\"\r\n  }\r\n});\r\n\r\nexport default api;\r\n","export const BASE_URL = \"https://register.nomoreparties.co\";\r\n\r\nconst handleResponse = (res) => {\r\n  if (!res.ok) {\r\n    return Promise.reject(`Error: ${res.status}`)\r\n  }\r\n  return res.json();\r\n}\r\n\r\nexport const register = (password, email) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ password, email })\r\n    })\r\n    .then(handleResponse)\r\n    .catch(err => console.log(err))\r\n};\r\n\r\nexport const authorize = (password, email) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n      method: 'POST',\r\n      referrerPolicy: 'no-referrer',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ password, email })\r\n    })\r\n    .then(handleResponse)\r\n    .catch(err => console.log(err))\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Accept\": \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\": `Bearer ${token}`\r\n    }\r\n  })\r\n  .then(handleResponse)\r\n  .then((data) => data)\r\n};\r\n","import React from 'react';\r\nimport { Route, Switch, useHistory, Redirect } from \"react-router-dom\";\r\nimport Header from './Header.js'\r\nimport Main from './Main.js'\r\nimport Card from './Card.js'\r\nimport Footer from './Footer.js'\r\nimport PopupWithForm from './PopupWithForm.js'\r\nimport EditProfilePopup from './EditProfilePopup.js'\r\nimport EditAvatarPopup from './EditAvatarPopup.js'\r\nimport AddPlacePopup from './AddPlacePopup.js'\r\nimport ImagePopup from './ImagePopup.js'\r\nimport Login from './Login.js'\r\nimport Register from './Register.js'\r\nimport ProtectedRoute from './ProtectedRoute.js'\r\nimport InfoToolTip from './InfoToolTip.js'\r\nimport api from '../utils/Api.js'\r\nimport * as auth from \"../utils/auth\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\r\n\r\nfunction App() {\r\n\r\n  const [isOverlayOn, setIsOverlayOn] = React.useState(false)\r\n\r\n  const [isEditOpen, setIsEditOpen] = React.useState(false)\r\n  const [isAvatarOpen, setIsAvatarOpen] = React.useState(false)\r\n  const [isAddOpen, setIsAddOpen] = React.useState(false)\r\n  const [isInfoOpen, setIsInfoOpen] = React.useState(false)\r\n  const [isHiddenLogoutOpen, setIsHiddenLogoutOpen] = React.useState(false)\r\n\r\n  const [isImageOpen, setIsImageOpen] = React.useState(false)\r\n  const [image, setImage] = React.useState(\"\")\r\n  const [imageCaption, setImageCaption] = React.useState(\"\")\r\n\r\n  const [password, setPassword] = React.useState(\"\")\r\n  const [email, setEmail] = React.useState(\"\")\r\n\r\n  const [loginSuccess, setLoginSuccess] = React.useState(false)\r\n  const [loggedIn, setLoggedIn] = React.useState(false)\r\n  const [userEmail, setUserEmail] =React.useState(\"\")\r\n  const history = useHistory()\r\n\r\n\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({avatar: \"\", name: \"\", about: \"\"})\r\n  React.useEffect(() => {\r\n    api.getUserInfo().then(res => {\r\n      setCurrentUser(res)\r\n    })\r\n  }, [setCurrentUser])\r\n\r\n  function closeAllPopups() {\r\n    setIsOverlayOn(false)\r\n    setIsAddOpen(false)\r\n    setIsEditOpen(false)\r\n    setIsImageOpen(false)\r\n    setIsAvatarOpen(false)\r\n    setIsInfoOpen(false)\r\n  }\r\n\r\n  function onUpdateUser(name, about) {\r\n    api.setUserInfo({name:currentUser.name, about: currentUser.about})\r\n    setCurrentUser({\r\n      name: name,\r\n      about: about,\r\n      avatar: currentUser.avatar\r\n    })\r\n  }\r\n\r\n  function onUpdateAvatar(avatar) {\r\n    api.setUserAvatar({avatar: currentUser.avatar})\r\n    setCurrentUser({\r\n      name: currentUser.name,\r\n      about: currentUser.about,\r\n      avatar: avatar\r\n    })\r\n  }\r\n\r\n  const [cards, setCards] = React.useState([])\r\n\r\n  React.useEffect(() => {\r\n    api.getInitialCards().then(res => {\r\n      setCards(res)\r\n    })\r\n  }, [setCards, cards])\r\n\r\n  function handleCardLike(card){\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    if (isLiked) {\r\n      api.removeLike(card._id).then((newCard) => {\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n      setCards(newCards);\r\n    });\r\n    } else {\r\n      api.likeCard(card._id).then((newCard) => {\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n      setCards(newCards);\r\n    });\r\n    }\r\n  }\r\n\r\n  function handleCardDelete(card){\r\n    api.removeCard(card._id).then(\r\n      setCards(cards)\r\n    )\r\n  }\r\n\r\n  function onCardImageClick(link, caption){\r\n    setIsImageOpen(true)\r\n    setImage(link)\r\n    setImageCaption(caption)\r\n    setIsOverlayOn(true)\r\n  }\r\n\r\n  function onAddPlace(newCard){\r\n    api.addCard(newCard)\r\n  }\r\n\r\n  function toggleInfoToolTip(){\r\n    setIsInfoOpen(!isInfoOpen)\r\n  }\r\n//Register\r\n  function handleRegister(password, email) {\r\n    auth.register(password, email)\r\n      .then((res) => {\r\n        if(res.data) {\r\n          setLoginSuccess(true);\r\n          setUserEmail(email)\r\n          toggleInfoToolTip()\r\n          history.push('/');\r\n        }\r\n        else {\r\n          setLoginSuccess(false);\r\n          toggleInfoToolTip()\r\n          return;\r\n        }\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n//Login\r\n  function handleLogin(password, email) {\r\n      if(!email || !password) return;\r\n\r\n      auth.authorize(password, email)\r\n      .then((data) => {\r\n        if (!data) {\r\n          setLoginSuccess(false)\r\n          setEmail(email)\r\n        }\r\n\r\n        if(data.token) {\r\n          setPassword('')\r\n          setLoginSuccess(true)\r\n          setLoggedIn(true)\r\n          setUserEmail(email)\r\n          history.push('/')\r\n        }\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n//Logout\r\n  function handleSignOut() {\r\n    localStorage.removeItem('jwt');\r\n    setLoggedIn(false);\r\n    setEmail('');\r\n    history.push('/signin');\r\n  }\r\n\r\n  function toggleHiddenLogout() {\r\n    setIsHiddenLogoutOpen(!isHiddenLogoutOpen)\r\n  }\r\n\r\n  return (\r\n    <Switch>\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <div className={isOverlayOn ? \"overlay overlay_dark\" : \"overlay\"}>\r\n        <InfoToolTip isValid={loginSuccess} isOpen={isInfoOpen} onClose={closeAllPopups} popupType=\"_type_info\"/>\r\n\r\n          <Route path=\"/signin\">\r\n            <Header text={\"Sign up\"} link={\"/signup\"} email={loggedIn ? email : \"\"} handleRegister={handleRegister} />\r\n            <Login handleLogin={handleLogin}/>\r\n          </Route>\r\n\r\n          <Route path=\"/signup\">\r\n            <Header text={\"Log in\"} link={\"/signin\"} email={loggedIn ? email : \"\"}/>\r\n            <Register handleRegister={handleRegister} toggleInfoToolTip={toggleInfoToolTip}/>\r\n          </Route>\r\n\r\n          <Route path='/'>\r\n                { loggedIn ? <Redirect to='/' /> : <Redirect to='/signin' /> }\r\n            </Route>\r\n\r\n          <ProtectedRoute path=\"/\" loggedIn={loggedIn} component={Main} email={userEmail} loggedIn={loggedIn} signOut={handleSignOut} isHiddenLogoutOpen={isHiddenLogoutOpen} toggleHiddenLogout={toggleHiddenLogout}\r\n            onEditAvatar={() => {\r\n              setIsAvatarOpen(true)\r\n              setIsOverlayOn(true)\r\n            }}\r\n            onEditProfile={() => {\r\n              setIsEditOpen(true)\r\n              setIsOverlayOn(true)\r\n            }}\r\n            onAddCard={() => {\r\n               setIsAddOpen(true)\r\n               setIsOverlayOn(true)\r\n            }}\r\n            onCardImageClick={(link, caption) => {\r\n              setIsImageOpen(true)\r\n              setImage(link)\r\n              setImageCaption(caption)\r\n              setIsOverlayOn(true)\r\n            }}\r\n            >\r\n            {cards.map((card, i) => {\r\n              return (\r\n                <Card key={i} card={card} image={card.link} title={card.name} likecount={card.likes.length}\r\n                onCardLike={()=>{handleCardLike(card)}}\r\n                onCardDelete={()=>{handleCardDelete(card)}}\r\n                onCardImageClick={() => {onCardImageClick(card.link, card.name)}}\r\n                />\r\n              )\r\n            })}\r\n          </ProtectedRoute>\r\n\r\n          <Footer />\r\n        </div>\r\n      <EditProfilePopup onUpdateUser={onUpdateUser} isEditOpen={isEditOpen} onClose={closeAllPopups} />\r\n      <EditAvatarPopup onUpdateAvatar={onUpdateAvatar} isAvatarOpen={isAvatarOpen} onClose={closeAllPopups} />\r\n      <AddPlacePopup onAddPlace={onAddPlace} isAddOpen={isAddOpen} onClose={closeAllPopups} />\r\n\r\n      <PopupWithForm heading=\"Are You Sure?\" buttonText=\"Yes\" popupType=\"_type_delete\" />\r\n\r\n      <ImagePopup isOpen={isImageOpen} title={imageCaption} image={image} onClose={() => {\r\n        setIsImageOpen(false)\r\n        setIsOverlayOn(false)\r\n      }\r\n      }/>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}